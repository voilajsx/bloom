import{r as m}from"./router-Dib99Hsw.js";import{u as y}from"./useBloomStorage-CKfqVNmA.js";import{d as f}from"./bloom-platform-MFD_VgVG.js";function h(){const{get:r,set:i,isReady:o}=y(),[e,n]=m.useState({companyName:"Bloom Company"}),[c,p]=m.useState(!0);m.useEffect(()=>{if(!o)return;(async()=>{try{const a=await r("webpages.companyName",f["app-name"]||"Bloom Company");n({companyName:a})}catch(a){console.error("[Webpages] Failed to load settings:",a)}finally{p(!1)}})()},[r,o]);const l=async(t,a)=>{try{n(s=>({...s,[t]:a})),await i(`webpages.${t}`,a)}catch(s){console.error(`[Webpages] Failed to update ${t}:`,s),n(g=>({...g,[t]:e[t]}))}},u=t=>{window.location.href=t},d=t=>({home:{title:`${e.companyName} - Home`,description:`Welcome to ${e.companyName}. Built with Bloom Framework.`},about:{title:`About ${e.companyName}`,description:`Learn more about ${e.companyName} and our mission.`},contact:{title:`Contact ${e.companyName}`,description:`Get in touch with the ${e.companyName} team.`}})[t];return{settings:e,loading:c||!o,companyName:e.companyName,updateSetting:l,navigate:u,getPageMeta:d,isReady:!c&&o}}export{h as u};
